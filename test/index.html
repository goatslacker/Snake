<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Snake Unit Testing | Jasmine</title>
  <link rel="stylesheet" type="text/css" href="../vendor/jasmine/jasmine.css">
  <script type="text/javascript" src="../vendor/jasmine/jasmine.js"></script>
  <script type="text/javascript" src="../vendor/jasmine/jasmine-html.js"></script>

  <!-- include source files here... -->
  <script type="text/javascript" src="../build/snake.dev.js"></script>
  <!--<script type="text/javascript" src="cardsExample.js"></script>-->
  <script type="text/javascript">
    // FIXME, dynamically create this from the schema || use SnakeMake
/*
    var Player = {"name":null,"chips":null,"id":null,"created_at":null};
    var Deck = {"name":null,"id":null,"created_at":null};
    var Card = {"deck_id":null,"face":null,"suit":null,"id":null,"created_at":null};
    var PlayerCard = {"player_id":null,"card_id":null,"id":null,"created_at":null};
*/


var Player = new Snake.Base({"name":null,"chips":null,"id":null,"created_at":null}),
    Deck = new Snake.Base({"name":null,"id":null,"created_at":null}),
    Card = new Snake.Base({"deck_id":null,"face":null,"suit":null,"id":null,"created_at":null}),
    PlayerCard = new Snake.Base({"player_id":null,"card_id":null,"id":null,"created_at":null});

    Snake.createPeer({
      Player: { 
        tableName: 'player', 
        map: ['name', 'chips', 'id', 'created_at'],
        columns: {
          "name": { "type": "text" },
          "chips": { "type": "integer" }
        }
      },
      Deck: { 
        tableName: 'deck', 
        map: ['name', 'id', 'created_at'],
        columns: {
          "name": { "type": "text" }
        }
      },
      Card: { 
        tableName: 'card', 
        map: ['deck_id', 'face', 'suit', 'id', 'created_at'],
        "columns": {
          "deck_id": { "type": "integer", "foreign": "deck.id" },
          "face": { "type": "text" },
          "suit": { "type": "text" }
        }
      },
      PlayerCard: { 
        tableName: 'player_card', 
        map: ['player_id', 'card_id', 'id', 'created_at'],
        "columns": {
          "player_id": { "type": "integer", "foreign": "player.id" },
          "card_id": { "type": "integer", "foreign": "card.id" }
        }
      }
    });
  </script>

  <!-- include spec files here... -->
  <script type="text/javascript" src="VenomSpec.js"></script>

</head>
<body>

<script type="text/javascript">
  jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
  jasmine.getEnv().execute();
</script>

</body>
</html>
